caterwaul.module( 'mulholland.mh' ,function($) {$.mulholland.mh_main=function(argv) {;
return(function(xs) {var x,x0,xi,xl,xr;
for(var xi=0,xl=xs.length;
xi<xl;
 ++xi)x=xs[xi] , ( ($.mulholland.mh) .call( {x0:x0,xi:xi,xl:xl,xs:xs,xr:xr} ,x) ) ;
return xs} ) .call(this,argv) } ,$.mulholland.mh=function(source) {;
return(function( ) {var parse=$.mulholland() ,rewrite_form=parse( '_x //@ [_y]' ) ,rewrite=function(match) {;
return $.mulholland.rewriter( (function(xs) {var x,x0,xi,xl,xr;
for(var xr=new xs.constructor() ,xi=0,xl=xs.length;
xi<xl;
 ++xi)x=xs[xi] ,xr.push( ( [x[0] ,x[1] ] ) ) ;
return xr} ) .call(this, (function(xs) {var x,x0,xi,xl,xr;
for(var xi=0,xl=xs.length;
xi<xl;
 ++xi)x=xs[xi] , (x.data=== '=' || (function( ) {throw new Error( ( '' + (match._x) + ': bad rewrite: ' + (match._y) + '' ) ) } ) .call(this) ) ;
return xs} ) .call(this,match._y.flatten( ',' ) ) ) ) } ,toplevel_rewriter=$.mulholland.rewriter( [ [rewrite_form,rewrite] ] ) ,fixed_point_rewrite=function(t) {;
return(function(it) {return(it?fixed_point_rewrite(toplevel_rewriter(it) ) :t) } ) .call(this, (t.first( '/@' ) ) ) } ,print=function(t) {;
return console.log( '%s' ,t.as_caterwaul() .toString() ) } ;
return(print(fixed_point_rewrite(parse(source) ) ) ) } ) .call(this) } } ) ;
